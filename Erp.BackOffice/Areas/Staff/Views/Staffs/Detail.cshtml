@using Erp.BackOffice.App_GlobalResources
@using Erp.BackOffice.Helpers
@using GridMvc.Html

@model Erp.BackOffice.Staff.Models.StaffsViewModel

@{
    ViewBag.Title = Wording.PageDetailStaff + ": " + Model.Name;
    Layout = "~/Views/Shared/" + (Request["IsPopup"] == null ? "ACE_AdminLayout.cshtml" : "_PopupLayout.cshtml");
    Erp.BackOffice.Models.PageSetting pageSetting = new Erp.BackOffice.Models.PageSetting
    {
        ModuleName = "Staffs",
        ActionName = "Detail",
        PageTitle = ViewBag.Title,
        DisplaySearchPanel = false,
        IsPopup = false,
        DisplayBackButton = true
    };

}
@if (ViewBag.FailedMessage != null && ViewBag.FailedMessage != "")
{
    <div class="alert alert-block alert-danger">
        <button class="close" data-dismiss="alert" type="button">
            <i class="ace-icon fa fa-times"></i>
        </button>
        <i class="ace-icon fa fa-warning red"></i>
        @ViewBag.FailedMessage
    </div>
}

@section HeadOfPage {
    @Html.ScriptTop_ChosenStyle()
    <style>
        .infobox {
            width: 290px !important;
            /*margin-bottom:10px!important;
            margin-right:10px!important;*/
        }

        div.infobox:hover {
            background-color: #6fb3e06b;
            /*#f5f5f5;*/
        }

        .infobox .infobox-content {
            max-width: 170px !important;
        }

    </style>
}
@using (Html.BeginPageHeaderContainer(pageSetting))
{

}
@using (Html.BeginButtonContainer(pageSetting))
{
    @Html.Button(Wording.Edit, ButtonType.aTag, ButtonColor.Primary, ButtonSize.Mini, true, IconType.Edit, IconSize.Default, false, new { @class = "btn-StaffsEdit", @onclick = "OpenPopup('" + Url.Action("Edit", "Staffs", new { area = "Staff", Id = Model.Id }) + "', '" + Wording.PageEdit_Staff + "', 0, 650)" })

}
<div class="row">
    <div class="col-sm-7">
        <div class="row">
            <div class="col-xs-12">
                <div class="widget-box" style="opacity: 1;box-shadow: 0 2px 4px #33333347">
                    <div class="widget-header">
                        <h5 class="widget-title bigger lighter">
                            <i class="ace-icon fa fa-dollar"></i> Tài chính
                        </h5>
                        <div class="widget-toolbar">
                            <a href="#" data-action="collapse">
                                <i class="ace-icon fa fa-chevron-up"></i>
                            </a>
                        </div>
                    </div>
                    <div class="widget-body">
                        <div class="widget-main">
                            <div class="infobox infobox-blue" onclick="OpenPopup('@Url.Action("List", "Payment", new {area="Account",StaffId = Model.Id, IsPopup = true })', '@Wording.HistorySalary', 0, 300)">
                                <div class="infobox-chart">
                                    <span class="sparkline" data-values="196,128,202,177,154,94,100,170,224"><canvas width="44" height="26" style="display: inline-block; width: 44px; height: 26px; vertical-align: top;"></canvas></span>
                                </div>
                                <div class="infobox-data">
                                    <span class="infobox-data-number ng-binding">0</span>
                                    <div class="infobox-content">
                                        Lịch sử lương
                                    </div>
                                </div>
                                <div class="badge badge-transparent green">
                                    @*+ 1.000.000 VNĐ*@
                                </div>
                            </div>
                            <div class="infobox infobox-blue" onclick="OpenPopup('@Url.Action("List", "SalaryAdvance", new { area = "Staff", StaffId = Model.Id, IsPopup = true })', '@Wording.HistorySalaryAdvance', 0, 300)">
                                <div class="infobox-icon">
                                    <i class="ace-icon fa fa-dollar"></i>
                                </div>
                                <div class="infobox-data">
                                    <span class="infobox-data-number ng-binding">@(Common.PhanCachHangNgan2(ViewBag.count_advance))</span>
                                    <div class="infobox-content">
                                        Lịch sử tạm ứng
                                    </div>
                                </div>
                                <div class="badge badge-transparent red">
                                    + @(Common.PhanCachHangNgan2(ViewBag.money_advance_month)) VNĐ
                                </div>
                            </div>
                            <div class="infobox infobox-blue" onclick="OpenPopup('@Url.Action("ListCommisionStaff", "SaleReport", new { area = "Sale", StaffId = Model.Id, IsPopup = true })', '@Wording.HistoryCommisionStaff', 0, 300)">
                                <div class="infobox-icon">
                                    <i class="ace-icon fa fa-percent"></i>
                                </div>
                                <div class="infobox-data">
                                    <span class="infobox-data-number ng-binding">@(Common.PhanCachHangNgan2(ViewBag.money_commision_month_now)) VNĐ</span>
                                    <div class="infobox-content">
                                        Lịch sử hoa hồng
                                    </div>
                                </div>
                                @if (ViewBag.percent_commision_month_now < 0)
                                {
                                    <div class="stat stat-important">@(Common.PhanCachHangNgan2(ViewBag.percent_commision_month_now))%</div>
                                }
                                else
                                {
                                    <div class="stat stat-success">@(Common.PhanCachHangNgan2(ViewBag.percent_commision_month_now))%</div>
                                }
                            </div>
                            <div class="infobox infobox-blue" onclick="OpenPopup('@Url.Action("Index", "ProcessPay", new { area = "Staff", StaffId = Model.Id, IsPopup = true })', '@Wording.Salary', 0, 300)">
                                <div class="infobox-icon">
                                    <i class="ace-icon fa fa-money"></i>
                                </div>
                                <div class="infobox-data">
                                    <span class="infobox-data-number ng-binding">@(Common.PhanCachHangNgan2(ViewBag.count_process_pay))</span>
                                    <div class="infobox-content">
                                        Lương
                                    </div>
                                </div>
                                <div class="badge badge-transparent" style="color:#F89406">
                                    <i class="ace-icon fa fa-dollar"></i> @(Common.PhanCachHangNgan2(ViewBag.money_now)) VNĐ
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-xs-12 top-10">
                <div class="widget-box" style="opacity: 1;box-shadow: 0 2px 4px #33333347;">
                    <div class="widget-header">
                        <h5 class="widget-title bigger lighter">
                            <i class="ace-icon fa fa-calendar"></i> Chấm công
                        </h5>
                        <div class="widget-toolbar">
                            <a href="#" data-action="collapse">
                                <i class="ace-icon fa fa-chevron-up"></i>
                            </a>
                        </div>
                    </div>
                    <div class="widget-body">
                        <div class="widget-main">
                            <div class="infobox" style="color:#5FBC47;border-color:#5FBC47;" onclick="OpenPopup('@Url.Action("List", "DayOff", new { area = "Staff", StaffId = Model.Id, IsPopup = true })', '@Wording.HistoryDayOff', 0, 300)">
                                <div class="infobox-icon">
                                    <i class="ace-icon fa fa-calendar " style="background-color:#5FBC47"></i>
                                </div>
                                <div class="infobox-data">
                                    <span class="infobox-data-number ng-binding">@(Common.PhanCachHangNgan2(ViewBag.count_dayoff))</span>
                                    <div class="infobox-content">
                                        Lịch sử nghỉ phép
                                    </div>
                                </div>
                                <div class="badge badge-transparent green">
                                    <i class="fa fa-calendar-check-o"></i> còn @(Common.PhanCachHangNgan2(ViewBag.no_dayoff_of_phep_nam)) ngày phép năm
                                </div>
                            </div>
                            <div class="infobox" style="color:#5FBC47;border-color:#5FBC47;" onclick="OpenPopup('@Url.Action("Calendar", "Staffs", new { area = "Staff", StaffId = Model.Id, IsPopup = true })', '@Wording.Calendar', 0, 300)">
                                <div class="infobox-icon">
                                    <i class="ace-icon fa fa-calendar-check-o" style="background-color:#5FBC47"></i>
                                </div>
                                <div class="infobox-data">
                                    <span class="infobox-data-number ng-binding">0</span>
                                    <div class="infobox-content">
                                        Lịch làm việc
                                    </div>
                                </div>
                                <div class="badge badge-success">
                                    @*Trễ 1h Sớm 1h*@
                                </div>

                            </div>
                            <div class="infobox" style="color:#5FBC47;border-color:#5FBC47;" onclick="OpenPopup('@Url.Action("List", "RegisterForOvertime", new { area = "Staff", StaffId = Model.Id, IsPopup = true })', '@Wording.HistoryOvertime', 0, 300)">
                                <div class="infobox-icon">
                                    <i class="ace-icon fa fa-calendar-plus-o" style="background-color:#5FBC47"></i>
                                </div>
                                <div class="infobox-data">
                                    <span class="infobox-data-number ng-binding">@(Common.PhanCachHangNgan2(ViewBag.count_Overtime))</span>
                                    <div class="infobox-content">
                                        @Wording.HistoryOvertime
                                    </div>
                                </div>
                                <div class="badge badge-success">
                                    +@(Common.PhanCachHangNgan2(ViewBag.Overtime_month_now))
                                </div>
                            </div>
                            <div class="infobox" style="color:#5FBC47;border-color:#5FBC47;" onclick="OpenPopup('@Url.Action("List", "CheckInOut", new { area = "Staff", StaffId = Model.Id, IsPopup = true })', '@Wording.HistoryCheckInOut', 0, 300)">
                                <div class="infobox-icon">
                                    <i class="ace-icon fa fa-clock-o" style="background-color:#5FBC47"></i>
                                </div>
                                <div class="infobox-data">
                                    <span class="infobox-text">@(ViewBag.date_checkInOut)</span>
                                    <div class="infobox-content">
                                        @Wording.HistoryCheckInOut
                                    </div>
                                </div>
                                <div class="badge badge-transparent red">
                                    lần gần nhất
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-xs-12 top-10">
                <div class="widget-box" style="opacity: 1;box-shadow: 0 2px 4px #33333347;">
                    <div class="widget-header">
                        <h5 class="widget-title bigger lighter">
                            <i class="ace-icon fa fa-hashtag"></i> Khác
                        </h5>
                        <div class="widget-toolbar">
                            <a href="#" data-action="collapse">
                                <i class="ace-icon fa fa-chevron-up"></i>
                            </a>
                        </div>
                    </div>
                    <div class="widget-body">
                        <div class="widget-main">
                            <div class="infobox infobox-orange2" onclick="OpenPopup('@Url.Action("List", "BonusDiscipline", new { area = "Staff", StaffId = Model.Id, IsPopup = true })', '@Wording.HistoryBonusDiscipline', 0, 300)">
                                <div class="infobox-progress">
                                    <div class="easy-pie-chart percentage" data-percent="@(ViewBag.persent_bonus)" data-size="46" style="height: 46px; width: 46px; line-height: 45px;">
                                        <span class="percent">@(ViewBag.persent_bonus)</span>%
                                        <canvas height="46" width="46"></canvas>
                                    </div>
                                </div>
                                <div class="infobox-data">
                                    <span class="infobox-data-number ng-binding">@(ViewBag.count_bonusDiscipline)</span>
                                    <div class="infobox-content">
                                        Khen thưởng - kỷ luật
                                    </div>
                                </div>
                                @if (ViewBag.last_bonusDiscipline == "Bonus")
                                {
                                    <div class="badge badge-transparent green">
                                        <i class="ace-icon fa fa-trophy"></i> @(ViewBag.last_time_bonusDiscipline)
                                    </div>
                                }
                                else
                                {
                                    <div class="badge badge-transparent red">
                                        <i class="ace-icon fa fa-balance-scale"></i> @(ViewBag.last_time_bonusDiscipline)
                                    </div>
                                }
                            </div>
                            <div class="infobox infobox-orange2" onclick="OpenPopup('@Url.Action("List", "TransferWork", new { area = "Staff", StaffId = Model.Id, IsPopup = true })', '@Wording.HistoryTransferwork', 0, 300)">
                                <div class="infobox-icon">
                                    <i class="ace-icon fa fa-refresh"></i>
                                </div>
                                <div class="infobox-data">
                                    <span class="infobox-data-number ng-binding">@(Common.PhanCachHangNgan2(ViewBag.count_TransferWork))</span>
                                    <div class="infobox-content">
                                        Lịch sử điều chuyển
                                    </div>
                                </div>
                                @*<div class="badge badge-success">
                                        +1
                                    </div>*@
                            </div>
                            <div class="infobox infobox-green" onclick="OpenPopup('@Url.Action("List", "StaffSocialInsurance", new { area = "Staff", StaffId = Model.Id, IsPopup = true })', '@Wording.PageIndex_SocialInsurance', 0, 300)">
                                <div class="infobox-icon">
                                    <i class="ace-icon fa fa-medkit"></i>
                                </div>
                                <div class="infobox-data">
                                    <span class="infobox-data-number ng-binding">@(Common.PhanCachHangNgan2(ViewBag.count_SocialInsurance))</span>
                                    <div class="infobox-content">
                                        Lịch sử bảo hiểm xã hội
                                    </div>
                                </div>
                            </div>

                            <div class="infobox infobox-pink" onclick="OpenPopup('@Url.Action("Index", "StaffFamily", new { area = "Staff", StaffId = Model.Id, IsPopup = true })', '@Wording.PageIndex_StaffFamily', 0, 300)">
                                <div class="infobox-icon">
                                    <i class="ace-icon fa fa-users"></i>
                                </div>
                                <div class="infobox-data">
                                    <span class="infobox-data-number ng-binding">@(Common.PhanCachHangNgan2(ViewBag.count_Family))</span>
                                    <div class="infobox-content">
                                        Danh sách người thân
                                    </div>
                                </div>
                            </div>
                            <div class="infobox infobox-green" onclick="OpenPopup('@Url.Action("Index", "WorkingProcess", new { area = "Staff", StaffId = Model.Id, IsPopup = true })', '@Wording.PageIndex_WorkingProcess', 0, 300)">
                                <div class="infobox-icon">
                                    <i class="ace-icon fa fa-bars"></i>
                                </div>
                                <div class="infobox-data">
                                    <span class="infobox-data-number ng-binding">@(Common.PhanCachHangNgan2(ViewBag.count_workingProcess))</span>
                                    <div class="infobox-content">
                                        Quá trình công tác
                                    </div>
                                </div>
                            </div>

                            <div class="infobox infobox-pink" onclick="OpenPopup('@Url.Action("Index", "Technique", new { area = "Staff", StaffId = Model.Id, IsPopup = true })', '@Wording.PageIndex_Technique', 0, 300)">
                                <div class="infobox-icon">
                                    <i class="ace-icon fa fa-graduation-cap"></i>
                                </div>
                                <div class="infobox-data">
                                    <span class="infobox-data-number ng-binding">@(Common.PhanCachHangNgan2(ViewBag.count_Technique))</span>
                                    <div class="infobox-content">
                                        Danh sách bằng cấp
                                    </div>
                                </div>
                            </div>
                            <div class="infobox infobox-green" onclick="OpenPopup('@Url.Action("List", "LabourContract", new { area = "Staff", StaffId = Model.Id, IsPopup = true })', '@Wording.PageIndex_LabourContract', 0, 300)">
                                <div class="infobox-icon">
                                    <i class="ace-icon fa fa-bookmark-o"></i>
                                </div>
                                <div class="infobox-data">
                                    <span class="infobox-data-number ng-binding">@(Common.PhanCachHangNgan2(ViewBag.count_labourContract))</span>
                                    <div class="infobox-content">
                                        Hợp đồng
                                    </div>
                                </div>
                            </div>

                            <div class="infobox infobox-pink" onclick="OpenPopup('@Url.Action("Index", "Bank", new { area = "Staff", StaffId = Model.Id, IsPopup = true })', '@Wording.PageIndex_Bank', 0, 300)">
                                <div class="infobox-icon">
                                    <i class="ace-icon fa fa-cc-visa"></i>
                                </div>
                                <div class="infobox-data">
                                    <span class="infobox-data-number ng-binding">@(Common.PhanCachHangNgan2(ViewBag.count_Bank))</span>
                                    <div class="infobox-content">
                                        Tài khoản ngân hàng
                                    </div>
                                </div>
                                <div class="badge badge-transparent green">
                                    <i class="ace-icon fa fa-barcode"></i> @(ViewBag.bank_active)
                                </div>
                            </div>

                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>
    <div class="col-sm-5">
        <div class="row" style="text-align:center">
            <div class="col-xs-12">
                <div class="widget-box">
                    <div class="widget-body">
                        <div class="widget-main" style="background: #f7f7f7;">
                            <div class="row">
                                <div class="col-sm-5">
                                    <div class="ace-thumbnails clearfix">
                                            <a href="@(Erp.BackOffice.Helpers.Common.KiemTraTonTaiHinhAnh(Model.ProfileImage,"Staff","user"))" title="@Model.Name" data-rel="colorbox" class="cboxElement">
                                                <img alt="@Model.Name" src="@(Erp.BackOffice.Helpers.Common.KiemTraTonTaiHinhAnh(Model.ProfileImage,"Staff","user"))" style="width:130px;height:130px;border-radius:100%;border:1px solid #ccc" />
                                            </a>
                                    </div>
                                </div>
                                <div class="col-sm-7">
                                    <div style="color:#337ab7;border-bottom:3px solid" class="top-20"><h3><b>@Model.Name</b></h3></div>
                                    <div style="color:#337ab7">@Model.Code</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-xs-12 top-5">
                <div class="widget-box widget-color-blue" style="opacity: 1;">
                    <div class="widget-header">
                        <h5 class="widget-title bigger lighter" style="color:white;">
                            <i class="ace-icon fa fa-user"></i> Thông tin cá nhân
                        </h5>

                        <div class="widget-toolbar">
                            <a href="#" data-action="collapse">
                                <i class="ace-icon fa fa-chevron-up"></i>
                            </a>
                        </div>
                        @*<div class="widget-toolbar">
                            <div class="progress progress-mini progress-striped active pos-rel" style="width:60px;" data-percent="@(ViewBag.info_personal)%">
                                <div class="progress-bar progress-bar-danger" style="width:@(ViewBag.info_personal)%"></div>
                            </div>
                        </div>*@
                    </div>
                    <div class="widget-body">
                        <div class="widget-main">
                            <div class="detail-view">
                                <div class="row control-group">
                                    @Html.DetailViewItemFor2(model => model.Birthday, null, null, "col-xs-4", "col-xs-8")
                                </div>
                                <div class="row control-group">
                                    @Html.DetailViewItemFor2(model => model.Gender, null, null, "col-xs-4", "col-xs-8")
                                </div>
                                <div class="row control-group">
                                    @Html.DetailViewItemFor2(model => model.Religion, null, null, "col-xs-4", "col-xs-8")
                                </div>
                                <div class="row control-group">
                                    @Html.DetailViewItemFor2(model => model.Ethnic, null, null, "col-xs-4", "col-xs-8")
                                </div>
                                <div class="row control-group">
                                    @Html.DetailViewItemFor2(model => model.MaritalStatus, null, null, "col-xs-4", "col-xs-8")
                                </div>
                                <div class="row control-group">
                                    @Html.DetailViewItemFor2(model => model.CountryId, null, null, "col-xs-4", "col-xs-8")
                                </div>
                                <div class="row control-group">
                                    @Html.DetailViewItemFor2(model => model.IdCardNumber, null, null, "col-xs-4", "col-xs-8")
                                </div>
                                <div class="row control-group">
                                    @Html.DetailViewItemFor2(model => model.IdCardDate, null, null, "col-xs-4", "col-xs-8")
                                </div>
                                <div class="row control-group">
                                    @Html.DetailViewItemFor2(model => model.CardIssuedName, null, null, "col-xs-4", "col-xs-8")
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-xs-12 top-5">
                <div class="widget-box widget-color-blue collapsed" style="opacity: 1;">
                    <div class="widget-header">
                        <h5 class="widget-title bigger lighter" style="color:white;">
                            <i class="ace-icon fa fa-map-marker"></i> Thông tin liên hệ
                        </h5>
                        <div class="widget-toolbar">
                            <a href="#" data-action="collapse">
                                <i class="ace-icon fa fa-chevron-down"></i>
                            </a>
                        </div>
                        @*<div class="widget-toolbar">
                            <div class="progress progress-mini progress-striped active pos-rel" style="width:60px;" data-percent="@(ViewBag.info_contact)%">
                                <div class="progress-bar progress-bar-danger" style="width:@(ViewBag.info_contact)%"></div>
                            </div>
                        </div>*@
                    </div>
                    <div class="widget-body">
                        <div class="widget-main">
                            <div class="detail-view">
                                <div class="row control-group">
                                    @Html.DetailViewItemFor2(model => model.Phone, null, null, "col-xs-4", "col-xs-8")
                                </div>
                                <div class="row control-group">
                                    @Html.DetailViewItemFor2(model => model.Phone2, null, null, "col-xs-4", "col-xs-8")
                                </div>
                                <div class="row control-group">
                                    @Html.DetailViewItemFor2(model => model.Email, null, null, "col-xs-4", "col-xs-8")
                                </div>
                                <div class="row control-group">
                                    @Html.DetailViewItemFor2(model => model.Email2, null, null, "col-xs-4", "col-xs-8")
                                </div>
                                <div class="row control-group">
                                    @Html.DetailViewItemFor2(model => model.Address, null, null, "col-xs-4", "col-xs-8")
                                </div>
                                <div class="row control-group">
                                    @Html.DetailViewItemFor2(model => model.WardName, null, null, "col-xs-4", "col-xs-8")
                                </div>
                                <div class="row control-group">
                                    @Html.DetailViewItemFor2(model => model.DistrictName, null, null, "col-xs-4", "col-xs-8")
                                </div>
                                <div class="row control-group">
                                    @Html.DetailViewItemFor2(model => model.ProvinceName, null, null, "col-xs-4", "col-xs-8")
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-xs-12 top-5">
                <div class="widget-box widget-color-blue collapsed" style="opacity: 1;">
                    <div class="widget-header">
                        <h5 class="widget-title bigger lighter" style="color:white;">
                            <i class="ace-icon fa fa-table"></i> Thông tin nhân viên
                        </h5>
                        <div class="widget-toolbar">
                            <a href="#" data-action="collapse">
                                <i class="ace-icon fa fa-chevron-down"></i>
                            </a>
                        </div>
                        @*<div class="widget-toolbar">
                            <div class="progress progress-mini progress-striped active pos-rel" style="width:60px;" data-percent="@(ViewBag.info_staff)%">
                                <div class="progress-bar progress-bar-danger" style="width:@(ViewBag.info_staff)%"></div>
                            </div>
                        </div>*@
                    </div>
                    <div class="widget-body">
                        <div class="widget-main">
                            <div class="detail-view">
                                <div class="row control-group">
                                    @Html.DetailViewItemFor2(model => model.UserName, null, null, "col-xs-4", "col-xs-8")
                                </div>
                                <div class="row control-group">
                                    @Html.DetailViewItemFor2(model => model.PositionName, null, null, "col-xs-4", "col-xs-8")
                                </div>
                                <div class="row control-group">
                                    @Html.DetailViewItemFor2(model => model.CommissionPercent, null, null, "col-xs-4", "col-xs-8")
                                </div>
                                <div class="row control-group">
                                    @Html.DetailViewItemFor2(model => model.MinimumRevenue, null, null, "col-xs-4", "col-xs-8")
                                </div>
                                <div class="row control-group">
                                    @Html.DetailViewItemFor2(model => model.StartDate, null, null, "col-xs-4", "col-xs-8")
                                </div>
                                <div class="row control-group">
                                    @Html.DetailViewItemFor2(model => model.EndDate, null, null, "col-xs-4", "col-xs-8")
                                </div>
                                <div class="row control-group">
                                    @Html.DetailViewItemFor2(model => model.Technique, null, null, "col-xs-4", "col-xs-8")
                                </div>
                                <div class="row control-group">
                                    @Html.DetailViewItemFor2(model => model.Literacy, null, null, "col-xs-4", "col-xs-8")
                                </div>
                                <div class="row control-group">
                                    @Html.DetailViewItemFor2(model => model.Language, null, null, "col-xs-4", "col-xs-8")
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        @*<div class="row">
            <div class="col-xs-12 top-5">
                <div class="widget-box widget-color-blue" style="opacity: 1;">
                    <div class="widget-header">
                        <h5 class="widget-title bigger lighter" style="color:white;">
                            <i class="ace-icon fa fa-hand-paper-o "></i> Vân tay chấm công
                        </h5>

                        <div class="widget-toolbar">
                            <a href="#" data-action="collapse">
                                <i class="ace-icon fa fa-chevron-up"></i>
                            </a>
                        </div>
                    </div>
                    <div class="widget-body">
                        <div class="widget-main">

                            @foreach (var item in Model.ListFingerPrint)
                            {
                                <div class="row top-5">
                                    <div class="col-xs-4">
                                        @if (!string.IsNullOrEmpty(item.TmpData))
                                        {
                                            <img src="~/assets/images/success.jpg" style="width:80px;height:80px;border-radius:100%;border:1px solid #ccc" />

                                        }
                                        else
                                        {
                                            <img src="~/assets/images/warning.jpg" style="width:80px;height:80px;border-radius:100%;border:1px solid #ccc" />
                                        }
                                    </div>
                                    <div class="col-xs-8">
                                        <div>- Ngón tay: <b>@item.FingerIndex.Value</b></div>
                                        <div>- Máy chấm công: <b>@item.Ten_may</b></div>
                                        <div>- Ngày tạo: <b>@(item.CreatedDate.HasValue ? item.CreatedDate.Value.ToString("dd/MM/yyyy HH:mm") : "chưa có")</b></div>
                                        <div>- Ngày cập nhật: <b>@(item.ModifiedDate.HasValue ? item.ModifiedDate.Value.ToString("dd/MM/yyyy HH:mm") : "chưa có")</b></div>
                                    </div>
                                </div>

                            }

                        </div>
                    </div>
                </div>
            </div>
        </div>*@
    </div>
</div>
@section Scripts {
    <script src="/assets/js/jquery.easypiechart.min.js"></script>
    <script src="~/assets/js/jquery.sparkline.index.min.js"></script>
    <script src="~/assets/js/jquery.sparkline.min.js"></script>

    <script type="text/javascript">

        function ClosePopupAndReloadPageStaffDetail() {
            ClosePopup(true);
            ShowLoading();
        };
        function ClosePopupAndDoSomething() {
            ClosePopup(true);
            ShowLoading();
        }
        function ClosePopupAndAppendSelect() {
            ShowLoading();
            ClosePopup(true);
        }

        function ClosePopupAndRedirectToURL(url) {
            ClosePopup(true);
            location.href = url;
        }
        jQuery(function ($) {
            $('.easy-pie-chart.percentage').each(function () {
                var $box = $(this).closest('.infobox');
                var barColor = $(this).data('color') || (!$box.hasClass('infobox-dark') ? $box.css('color') : 'rgba(255,255,255,0.95)');
                var trackColor = barColor == 'rgba(255,255,255,0.95)' ? 'rgba(255,255,255,0.25)' : '#E2E2E2';
                var size = parseInt($(this).data('size')) || 50;
                $(this).easyPieChart({
                    barColor: barColor,
                    trackColor: trackColor,
                    scaleColor: false,
                    lineCap: 'butt',
                    lineWidth: parseInt(size / 10),
                    animate: ace.vars['old_ie'] ? false : 1000,
                    size: size
                });
            })
            $('.sparkline').each(function () {
                var $box = $(this).closest('.infobox');
                var barColor = !$box.hasClass('infobox-dark') ? $box.css('color') : '#FFF';
                $(this).sparkline('html',
                    {
                        tagValuesAttribute: 'data-values',
                        type: 'bar',
                        barColor: barColor,
                        chartRangeMin: $(this).data('min') || 0
                    });
            });


            //flot chart resize plugin, somehow manipulates default browser resize event to optimize it!
            //but sometimes it brings up errors with normal resize event handlers
            $.resize.throttleWindow = false;

            var placeholder = $('#piechart-placeholder').css({ 'width': '90%', 'min-height': '150px' });
            var data = [
                { label: "social networks", data: 38.7, color: "#68BC31" },
                { label: "search engines", data: 24.5, color: "#2091CF" },
                { label: "ad campaigns", data: 8.2, color: "#AF4E96" },
                { label: "direct traffic", data: 18.6, color: "#DA5430" },
                { label: "other", data: 10, color: "#FEE074" }
            ]
            function drawPieChart(placeholder, data, position) {
                $.plot(placeholder, data, {
                    series: {
                        pie: {
                            show: true,
                            tilt: 0.8,
                            highlight: {
                                opacity: 0.25
                            },
                            stroke: {
                                color: '#fff',
                                width: 2
                            },
                            startAngle: 2
                        }
                    },
                    legend: {
                        show: true,
                        position: position || "ne",
                        labelBoxBorderColor: null,
                        margin: [-30, 15]
                    }
                    ,
                    grid: {
                        hoverable: true,
                        clickable: true
                    }
                })
            }
            drawPieChart(placeholder, data);

            /**
            we saved the drawing function and the data to redraw with different position later when switching to RTL mode dynamically
            so that's not needed actually.
            */
            placeholder.data('chart', data);
            placeholder.data('draw', drawPieChart);


            //pie chart tooltip example
            var $tooltip = $("<div class='tooltip top in'><div class='tooltip-inner'></div></div>").hide().appendTo('body');
            var previousPoint = null;

            placeholder.on('plothover', function (event, pos, item) {
                if (item) {
                    if (previousPoint != item.seriesIndex) {
                        previousPoint = item.seriesIndex;
                        var tip = item.series['label'] + " : " + item.series['percent'] + '%';
                        $tooltip.show().children(0).text(tip);
                    }
                    $tooltip.css({ top: pos.pageY + 10, left: pos.pageX + 10 });
                } else {
                    $tooltip.hide();
                    previousPoint = null;
                }

            });

            /////////////////////////////////////
            $(document).one('ajaxloadstart.page', function (e) {
                $tooltip.remove();
            });

        });
    </script>

}
