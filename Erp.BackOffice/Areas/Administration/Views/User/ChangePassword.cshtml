@model Erp.BackOffice.Areas.Administration.Models.UserUserViewModel
@{
    ViewBag.Title = Wording.ChangePassword;
    Layout = "~/Views/Shared/ACE_AdminLayout.cshtml";
}
@using Erp.BackOffice.App_GlobalResources
@using Erp.BackOffice.Helpers
<style>
    .field-validation-error
    {
        color:red;
    } 
</style>
@using (Html.BeginForm_AceStyle("Thiết lập lại mật khẩu", "ChangePassword", "User", null, FormMethod.Post, new { @class = "form-horizontal" }))
{
    @Html.ValidationSummary(true)
   
    @Html.HiddenFor(model => model.UserId)

    <div class="form-group">
        @Html.LabelFor(model => model.OldPassword, new { @class = "control-label col-sm-3" })
        <div class="col-sm-9" style="margin-left:-8px">
            @Html.PasswordFor(model => model.OldPassword)<br />
            @Html.ValidationMessageFor(model => model.OldPassword)
        </div>
    </div>
    <div class="form-group">
        @Html.LabelFor(model => model.NewPassword, new { @class = "control-label col-sm-3" })
        <div class="col-sm-9" style="margin-left:-8px">
            @Html.PasswordFor(model => model.NewPassword)<br />
            @Html.ValidationMessageFor(model => model.NewPassword)
        </div>
       
    </div>
     
    <div class="form-group">
        @Html.LabelFor(model => model.ConfirmPassword, new { @class = "control-label col-sm-3" })
        <div class="col-sm-9" style="margin-left:-8px">
            @Html.PasswordFor(model => model.ConfirmPassword)<br />
            @Html.ValidationMessageFor(model => model.ConfirmPassword)
        </div>
    </div>

    <div class="form-group">
        @Html.HiddenFor(model => model.UserId, new Dictionary<string, object> { { "Id", "hdfUserId" } })
    </div>
    <div class="row-fluid wizard-actions span4">
        <button type="submit" class="btn btn-info" name="Submit" value="Save" id="Save">
            <i class="ace-icon fa fa-check bigger-110"></i>
            @Resources.Wording.Save
        </button>
    </div>
    <div id="message" style="display:block;margin-left:7px"><h3>Ghi Chú:</h3> <div style="font-size: 16px; color: red;">
            <ul style="list-style-type:disc">
        <li>Mật khẩu yêu cầu <b> ít nhất 8 ký tự.</b></li>
        <li>phải có ký tự <b>Thường</b> và ký tự <b>Hoa</b>.</li>
    </ul>
        </div>
    </div>
}
<script> 
    //$(document).ready(function () {
    //    var myInput = document.getElementById("NewPassword");
    //    myInput.onfocus = function () {
    //        document.getElementById("message").style.display = "block";
    //    }

    //    myInput.onblur = function () {
    //        document.getElementById("message").style.display = "none";
    //    }
    //});
    
    $('#Save').click(function () {
        debugger
       
        var b = $('#NewPassword').val();
        chuin = /[A-Z]/g;
        chuthuong = /[a-z]/g;
        if (b.match(chuin)) {
            if (b.match(chuthuong)) {
                if (b.length >= 8) {
                    alert("Cập Nhật thành công");
                    return true;
                }
               
            }
           
        }
        else {
            alertPopup("Cập Nhật Thất bại");
            return false;
        }
            
       
       
    });
</script>
