<script type="text/javascript">
    jQuery.validator.addMethod('comparedatelessthan', function (value, element, params) {
        var otherFieldName = $(element).attr('data-val-comparedatelessthan-dateprop');
        var otherFieldValue = $('#' + otherFieldName).first().val();
        
        var dateParts = otherFieldValue.split("/");
        var otherDate = new Date(dateParts[2], dateParts[1] - 1, dateParts[0]);

        dateParts = value.split("/");
        var mainDate = new Date(dateParts[2], dateParts[1] - 1, dateParts[0]);

        if (mainDate > otherDate) {
            return false;
        }
        return true;

    }, '');

    jQuery.validator.unobtrusive.adapters.add('comparedatelessthan', {}, function (options) {
        options.rules['comparedatelessthan'] = true;
        options.messages['comparedatelessthan'] = options.message;
    });
</script>
